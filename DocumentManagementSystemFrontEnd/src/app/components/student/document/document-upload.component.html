<!-- Created By : Sangwin Gawande (http://sangw.in) -->

<div class="w3-container">
  <div class="upload">
    <span class="upload__label">
      Select File(s) to Upload
    </span>

    <input #fileInput type="file" [multiple]="true" class="upload__input"
      (change)="uploadFiles( fileInput.files ) ; fileInput.value = null;" />
  </div>

  <h2>
    Uploads
  </h2>

  <ul class="uploads">
    <li *ngFor="let upload of uploads" class="uploads__item">

      <a [href]="upload.url" target="_blank" class="uploads__link">
        {{ upload.name }}
      </a>
      <span class="uploads__size">
        ( Size: {{ upload.size | number }} bytes )
      </span>

    </li>
  </ul>


  <div class="w3-container" *ngIf="data">
    <div class="w3-panel w3-round-small w3-teal">
      <h3>file List <button routerLink="/add" class="w3-button w3-green custom-button"><i
            class="w3-medium  fa fa-plus"></i> Add New file</button></h3>
    </div>
    <span><i class="w3-medium fa fa-search"></i> Search : <input class="" type="text" [(ngModel)]='filterData'></span>

    <div class="w3-panel w3-green" *ngIf="(data | filter:filterData).length === 0">
      <h3>Oh no</h3>
      <p>No files found <span *ngIf="filterData"> with search "{{filterData}}"</span> </p>
    </div>
    <div class="w3-panel w3-light-grey w3-padding-16 w3-card-2"
      *ngIf="(data | filter:filterData | filter:filterData).length != 0">
      <table class="w3-table w3-striped w3-bordered">
        <tr>
          <th><i class="w3-medium custom-icon fa fa-refresh"></i> Sr. No.</th>
          <!-- <th>ID</th> -->
          <th><i class="w3-medium custom-icon fa fa-user"></i> File Name</th>
          <th><i class="w3-medium custom-icon fa fa-user"></i> File Size</th>
          <th><i class="w3-medium custom-icon fa fa-envelope-o"></i> User</th>
          <th><i class="w3-medium custom-icon fa fa-phone"></i> LastAccessedDate</th>
          <th><i class="w3-medium custom-icon fa fa-pencil"></i> Download</th>
        </tr>
        <tr *ngFor="let file of data | filter:filterData; index as i;" appHighlightStudent>
          <td>{{i +1}}</td>
          <td class="pointer" [routerLink]="['detail', i]">{{file.FileName}} </td>
          <td class="pointer" [routerLink]="['detail', i]">{{file.FileSize}}</td>
          <td class="pointer" [routerLink]="['detail', i]">{{file.LastAccessedUser}}</td>
          <td class="pointer" [routerLink]="['detail', i]">{{file.LastAccessedDate}}</td>
          <td><button (click)="downloadFile(file.ID,file.FileName);" class="w3-button w3-blue">Download</button></td>
        </tr>
      </table>
    </div>
  </div>


  <!-- <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <h3>Choose File1111111</h3>
        <form (ngSubmit)="onSubmit()">
          <div class="form-group">
            <input type="file" name="image" />
          </div>
          <div class="form-group">
            <button class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div> -->

  <!-- 
<div class="w3-container" *ngIf="studentAddForm">
	<form class="w3-container" [formGroup]="studentAddForm" (ngSubmit)="doRegister()">
	<div class="w3-panel w3-round-small w3-teal">
		<h3><span *ngIf="index === undefined">Student Registration</span><span *ngIf="index != undefined">Student Update</span> <a routerLink="/" class="w3-button w3-green custom-button"><i class="w3-medium fa fa-chevron-left"></i> Back</a></h3>
	</div>

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-user"></i><b>First Name</b></label>
		<input class="w3-input w3-border" type="text" formControlName="first_name">
		<div class="w3-panel w3-red"  *ngIf="studentAddForm.controls.first_name.invalid && (studentAddForm.controls.first_name.dirty || studentAddForm.controls.first_name.touched)">Please enter 3 to 50 characters</div> 

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-user"></i><b>Last Name</b></label>
		<input class="w3-input w3-border" type="text" formControlName="last_name">
		<div class="w3-panel w3-red"  *ngIf="studentAddForm.controls.last_name.invalid && (studentAddForm.controls.last_name.dirty || studentAddForm.controls.last_name.touched)">Please enter  3 to 50 characters </div> 

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-envelope-o"></i><b>Email Address</b></label>
		<input class="w3-input w3-border" type="text" formControlName="email">
		<div class="w3-panel w3-red"  *ngIf="studentAddForm.controls.email.invalid && (studentAddForm.controls.email.dirty || studentAddForm.controls.email.touched)">Please enter valid email address</div> 

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-phone"></i><b>Phone</b></label>
		<input class="w3-input w3-border" type="number" formControlName="phone">
		<div class="w3-panel w3-red"  *ngIf="studentAddForm.controls.phone.invalid && (studentAddForm.controls.phone.dirty || studentAddForm.controls.phone.touched)">Please enter valid phone number</div> 
		<br>
		<button class="w3-btn w3-blue" type="submit" [disabled]="!studentAddForm.valid"><span *ngIf="index === undefined">Register</span><span *ngIf="index != undefined">Update</span> <i class="w3-medium fa fa-check"></i> </button>

	</form>
</div> -->

  <!-- Created By : Sangwin Gawande (http://sangw.in) -->
</div>
